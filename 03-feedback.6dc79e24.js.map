{"mappings":"kjBAIMA,EAAc,sBACdC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,SAAUF,SAASC,cAAc,2BACjCE,MAAOH,SAASC,cAAc,UAE1BG,EAAW,IA2BjB,WACE,IAAMC,EAAeC,KAAKC,MAAMC,aAAaC,QAAQZ,IAErD,GAAqB,OAAjBQ,EACF,OAEFP,EAAKI,SAASQ,MAAQL,EAAsB,SAAK,GACjDP,EAAKK,MAAMO,MAAQL,EAAoB,OAAK,E,CAhC9CM,GAEAb,EAAKC,KAAKa,iBAAiB,QAASC,EAAAC,EAAA,EAiBpC,SAAyBC,GACvBX,EAASW,EAAEC,OAAOC,MAAQF,EAAEC,OAAON,MACnC,IAAMQ,EAAkBZ,KAAKa,UAAUf,GACvCI,aAAaY,QAAQvB,EAAaqB,E,GApB0B,MAS9DpB,EAAKC,KAAKa,iBAAiB,UAAU,SAAAG,GACjCA,EAAEM,iBACF,IAAMC,EAAUhB,KAAKC,MAAMC,aAAaC,QAAQZ,IAChDW,aAAae,WAAW1B,GACxB2B,QAAQC,IAAIH,GACZP,EAAEW,cAAcC,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import '../css/common.css';\nimport '../css/03-feedback.css';\nimport throttle from 'lodash/throttle';\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  textarea: document.querySelector('.feedback-form textarea'),\n  input: document.querySelector('input'),\n};\nconst formData = {};\n\npopulateTextarea();\n\nrefs.form.addEventListener('input', throttle(onTextareaInput, 500));\n\n// refs.form.addEventListener('submit', e => {\n//   e.preventDefault();\n//   e.currentTarget.reset();\n//   const objData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n//   localStorage.removeItem(STORAGE_KEY);\n// });\n\nrefs.form.addEventListener('submit', e => {\n    e.preventDefault();\n    const objData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n    localStorage.removeItem(STORAGE_KEY);\n    console.log(objData);\n    e.currentTarget.reset();\n  });\n\nfunction onTextareaInput(e) {\n  formData[e.target.name] = e.target.value;\n  const stringifiedData = JSON.stringify(formData);\n  localStorage.setItem(STORAGE_KEY, stringifiedData);\n}\n\nfunction populateTextarea() {\n  const savedMessage = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  if (savedMessage === null) {\n    return;\n  }\n  refs.textarea.value = savedMessage['message'] || '';\n  refs.input.value = savedMessage['email'] || '';\n}\n"],"names":["$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$refs","form","document","querySelector","textarea","input","$b00c40859be242c5$var$formData","savedMessage","JSON","parse","localStorage","getItem","value","$b00c40859be242c5$var$populateTextarea","addEventListener","$parcel$interopDefault","$eaxEB","e","target","name","stringifiedData","stringify","setItem","preventDefault","objData","removeItem","console","log","currentTarget","reset"],"version":3,"file":"03-feedback.6dc79e24.js.map"}